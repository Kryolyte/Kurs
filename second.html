<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–ü–ö –ö–æ–ª—Ö–æ–∑-–ø–ª–µ–º–∑–∞–≤–æ–¥ ¬´–ö–∞–∑—å–º–∏–Ω—Å–∫–∏–π¬ª</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>–°–ü–ö –ö–æ–ª—Ö–æ–∑-–ø–ª–µ–º–∑–∞–≤–æ–¥ ¬´–ö–∞–∑—å–º–∏–Ω—Å–∫–∏–π¬ª</h1>
        </div>
        <div class="nav">
            <a href="index.html">–ü–æ—Å–µ–≤—ã</a>
            <a href="second.html">–ö–æ—Ä–º–∞</a>
            <a href="third.html">–ü–æ–≥–æ–ª–æ–≤—å–µ</a>
            <a href="fourth.html">–ü—Ä–æ–¥—É–∫—Ü–∏—è</a>
            <a href="fifth.html">–†–µ–∞–ª. –∑–µ—Ä–Ω–∞</a>
        </div>
        <div class="content">
            <div class="main">
                <div class="table-container">
                    <button class="add-row-btn" id="openModalBtn">–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É</button>
                    <button class="add-row-btn" id="createReportBtn" style="margin-left: -2780px;">–°–æ–∑–¥–∞—Ç—å –æ—Ç—á—ë—Ç</button>
                    <div class="search-container">
                        <label for="search">–ü–æ–∏—Å–∫:</label>
                        <input type="text" id="search" onkeyup="searchTable()" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∫—É–ª—å—Ç—É—Ä–µ...">
                    </div>
                </div>
                <table id="data-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                            <th>–ú–∞—Ç. –∑–∞—Ç—Ä–∞—Ç—ã</th>
                            <th>–ó–∞—Ç—Ä–∞—Ç—ã —Ç—Ä—É–¥–∞</th>
                            <th>–ö—É–ª—å—Ç—É—Ä–∞</th>
                            <th>–ü–æ–≥–æ–ª–æ–≤—å–µ</th>
                            <th>–î–∞—Ç–∞ –∫–æ—Ä–º–ª–µ–Ω–∏—è</th>

                            <th>–û–ø–µ—Ä–∞—Ü–∏–∏</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="checkbox"></td>
                            <td>–ö–æ—Ä–º –¥–ª—è –º–æ–ª–æ–¥–Ω—è–∫–∞</td>
                            <td>50</td>
                            <td>14</td>
                            <td>–Ø—á–º–µ–Ω—å</td>
                            <td>–ú–æ–ª–æ–¥–Ω—è–∫</td>
                            <td>6/21/2021 12:00</td>

                            <td class="operations">
                                <button class="edit" onclick="editRow(this)">‚úèÔ∏è</button>
                                <button class="delete" onclick="deleteRow(this)">üóëÔ∏è</button>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox"></td>
                            <td>–ö–æ—Ä–º –¥–ª—è –∫–æ—Ä–æ–≤</td>
                            <td>161</td>
                            <td>2</td>
                            <td>–û–¥–Ω–æ–ª–µ—Ç–Ω–∏–µ —Ç—Ä–∞–≤—ã</td>
                            <td>–ö–æ—Ä–æ–≤—ã</td>
                            <td>6/27/2021 12:00</td>

                            <td class="operations">
                                <button class="edit" onclick="editRow(this)">‚úèÔ∏è</button>
                                <button class="delete" onclick="deleteRow(this)">üóëÔ∏è</button>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox"></td>
                            <td>–ö–æ—Ä–º –¥–ª—è –ø—á–µ–ª</td>
                            <td>9</td>
                            <td>18</td>
                            <td>–°–µ–º–µ–Ω–∞ —Ä–∞–ø—Å–∞</td>
                            <td>–ü—á–µ–ª—ã</td>
                            <td>7/27/2021 12:00</td>

                            <td class="operations">
                                <button class="edit" onclick="editRow(this)">‚úèÔ∏è</button>
                                <button class="delete" onclick="deleteRow(this)">üóëÔ∏è</button>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox"></td>
                            <td>–ö–æ—Ä–º –¥–ª—è –ª–æ—à–∞–¥–µ–π</td>
                            <td>14</td>
                            <td>5</td>
                            <td>–ú–Ω–æ–≥–æ–ª–µ—Ç–∏–µ —Ç—Ä–∞–≤—ã</td>
                            <td>–õ–æ—à–∞–¥–∏</td>
                            <td>07/01/2021 12:00</td>

                            <td class="operations">
                                <button class="edit" onclick="editRow(this)">‚úèÔ∏è</button>
                                <button class="delete" onclick="deleteRow(this)">üóëÔ∏è</button>
                            </td>
                        </tr>

                    </tbody>
                </table>
                <div class="pagination">
                    <button>&laquo;</button>
                    <button class="active">1</button>
                    <button>2</button>
                    <button>3</button>
                    <button>&raquo;</button>
                </div>
            </div>
        </div>
    </div>

    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É</h2>
            <div class="form-group">
                <label for="culture">–ö—É–ª—å—Ç—É—Ä–∞</label>
                <input type="text" id="culture" name="culture">
            </div>
            <div class="form-group">
                <label for="yield">–£—Ä–æ–∂–∞–π–Ω–æ—Å—Ç—å</label>
                <input type="number" id="yield" name="yield">
            </div>
            <div class="form-group">
                <label for="landType">–í–∏–¥ —É–≥–æ–¥—å—è</label>
                <input type="text" id="landType" name="landType">
            </div>
            <div class="form-group">
                <label for="sowingDate">–î–∞—Ç–∞ –ø–æ—Å–µ–≤–∞</label>
                <input type="datetime-local" id="sowingDate" name="sowingDate">
            </div>
            <div class="form-group">
                <label for="sowing">–ü–æ—Å–µ–≤</label>
                <input type="number" id="sowing" name="sowing">
            </div>
            <div class="form-group">
                <label for="harvestDate">–î–∞—Ç–∞ —É–±–æ—Ä–∫–∏</label>
                <input type="datetime-local" id="harvestDate" name="harvestDate">
            </div>
            <div class="form-group">
                <label for="harvestAmount">–°–±–æ—Ä –∫–æ–ª-–≤–æ</label>
                <input type="number" id="harvestAmount" name="harvestAmount">
            </div>
            <button id="addRowBtn" onclick="addRow()">–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É</button>
            <button id="saveRowBtn" style="display:none;" onclick="saveRow()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
        </div>
    </div>

    <script>
        let modal = document.getElementById("myModal");
        let openModalBtn = document.getElementById("openModalBtn");
        let closeModalSpan = document.getElementsByClassName("close")[0];
        let addRowBtn = document.getElementById("addRowBtn");
        let saveRowBtn = document.getElementById("saveRowBtn");
        let currentEditRow = null;

        openModalBtn.onclick = function() {
            modal.style.display = "flex";
        }

        closeModalSpan.onclick = function() {
            modal.style.display = "none";
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        function addRow() {
            let table = document.getElementById("data-table").getElementsByTagName('tbody')[0];
            let newRow = table.insertRow();

            let cell1 = newRow.insertCell(0);
            let cell2 = newRow.insertCell(1);
            let cell3 = newRow.insertCell(2);
            let cell4 = newRow.insertCell(3);
            let cell5 = newRow.insertCell(4);
            let cell6 = newRow.insertCell(5);
            let cell7 = newRow.insertCell(6);
            let cell8 = newRow.insertCell(7);
            let cell9 = newRow.insertCell(8);

            cell1.innerHTML = '<input type="checkbox">';
            cell2.innerHTML = document.getElementById("culture").value;
            cell3.innerHTML = document.getElementById("yield").value;
            cell4.innerHTML = document.getElementById("landType").value;
            cell5.innerHTML = document.getElementById("sowingDate").value;
            cell6.innerHTML = document.getElementById("sowing").value;
            cell7.innerHTML = document.getElementById("harvestDate").value;
            cell8.innerHTML = document.getElementById("harvestAmount").value;
            cell9.innerHTML = '<button class="edit" onclick="editRow(this)">‚úèÔ∏è</button><button class="delete" onclick="deleteRow(this)">üóëÔ∏è</button>';

            modal.style.display = "none";
            clearForm();
        }

        function editRow(button) {
            let row = button.parentNode.parentNode;
            currentEditRow = row;

            document.getElementById("culture").value = row.cells[1].innerHTML;
            document.getElementById("yield").value = row.cells[2].innerHTML;
            document.getElementById("landType").value = row.cells[3].innerHTML;
            document.getElementById("sowingDate").value = row.cells[4].innerHTML;
            document.getElementById("sowing").value = row.cells[5].innerHTML;
            document.getElementById("harvestDate").value = row.cells[6].innerHTML;
            document.getElementById("harvestAmount").value = row.cells[7].innerHTML;

            addRowBtn.style.display = "none";
            saveRowBtn.style.display = "inline";
            modal.style.display = "flex";
        }

        function saveRow() {
            if (currentEditRow != null) {
                currentEditRow.cells[1].innerHTML = document.getElementById("culture").value;
                currentEditRow.cells[2].innerHTML = document.getElementById("yield").value;
                currentEditRow.cells[3].innerHTML = document.getElementById("landType").value;
                currentEditRow.cells[4].innerHTML = document.getElementById("sowingDate").value;
                currentEditRow.cells[5].innerHTML = document.getElementById("sowing").value;
                currentEditRow.cells[6].innerHTML = document.getElementById("harvestDate").value;
                currentEditRow.cells[7].innerHTML = document.getElementById("harvestAmount").value;

                modal.style.display = "none";
                addRowBtn.style.display = "inline";
                saveRowBtn.style.display = "none";
                currentEditRow = null;
                clearForm();
            }
        }

        function deleteRow(button) {
            let row = button.parentNode.parentNode;
            row.parentNode.removeChild(row);
        }

        function clearForm() {
            document.getElementById("culture").value = '';
            document.getElementById("yield").value = '';
            document.getElementById("landType").value = '';
            document.getElementById("sowingDate").value = '';
            document.getElementById("sowing").value = '';
            document.getElementById("harvestDate").value = '';
            document.getElementById("harvestAmount").value = '';
        }

        function searchTable() {
            let input = document.getElementById("search");
            let filter = input.value.toUpperCase();
            let table = document.getElementById("data-table");
            let tr = table.getElementsByTagName("tr");

            for (let i = 1; i < tr.length; i++) {
                let td = tr[i].getElementsByTagName("td")[1];
                if (td) {
                    let txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }
    </script>
</body>
</html>